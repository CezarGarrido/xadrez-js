<!DOCTYPE HTML>
<html lang="pt-BR">

<head>
    <meta charset=UTF-8>
    <title>Jogo de xadrez</title>
    <link href="css/style.css" rel="stylesheet" type="text/css" />
</head>

<body>
    <div class="box">
        <div class="board"></div>
        <div class="stats">
            <div class="player"></div>
            <div class="notation"></div>
            <div class="player"></div>
        </div>
        <div style="clear:both;"></div>
    </div>
    <script type="text/javascript" src="listener.js"></script>
    <script type="text/javascript" src="game.js"></script>
    <script type="text/javascript" src="board.js"></script>
    <script type="text/javascript">
    const elSquares = document.getElementsByClassName('square-board');
    const elBoard = document.getElementsByClassName('board')[0];
    const elCurrentPieces = document.getElementsByClassName("current-piece");

    const game = NewGame(elSquares, elCurrentPieces);
    let board = new Board(elBoard, elSquares, game);

    board.Render();

    const keyboardListener = CreateKeyboardListener(elSquares);

    keyboardListener.subscribe((command) => {
    	console.log(command)
        game.MovePiece(command);
    });
    keyboardListener.subscribe((command) => {
        game.ClickPiece(command);
    });
    </script>
</body>

</html>